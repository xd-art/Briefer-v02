{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useParams,useNavigate,Link}from'react-router-dom';import Header from'./Header';import Footer from'./Footer';import ThreeColumnLayout from'./ThreeColumnLayout';import LeftNavigation from'./LeftNavigation';import RightSidebar from'./RightSidebar';import{useAuth}from'../context/AuthContext';import SEO from'../utils/seo';import useDebounce from'../hooks/useDebounce';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CategoryArticlesPage=()=>{var _categoryInfo$facet;const{category,subcategory}=useParams();const{user,logout}=useAuth();const navigate=useNavigate();const[articles,setArticles]=useState([]);const[initialArticles,setInitialArticles]=useState([]);// Store original articles\nconst[categoryInfo,setCategoryInfo]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[searchQuery,setSearchQuery]=useState('');const debouncedSearch=useDebounce(searchQuery,300);const isFirstRun=useRef(true);// Initial load of category articles\nuseEffect(()=>{const fetchCategoryArticles=async()=>{try{setLoading(true);// 'sales-marketing' -> 'sales_marketing'\nconst facetValue=subcategory.replace(/-/g,'_');const response=await fetch(\"http://localhost:3003/api/articles/categories/\".concat(facetValue));if(!response.ok){if(response.status===404){setError('Category not found');}else{setError('Failed to fetch articles');}return;}const data=await response.json();setCategoryInfo(data.category);setArticles(data.articles||[]);setInitialArticles(data.articles||[]);}catch(err){console.error('Error fetching category articles:',err);setError('Failed to fetch articles');}finally{setLoading(false);}};if(searchQuery===''){fetchCategoryArticles();}},[category,subcategory]);// Search effect\nuseEffect(()=>{const performSearch=async()=>{if(debouncedSearch.trim()===''){// Restore original if search is cleared\nif(initialArticles.length>0){setArticles(initialArticles);}return;}try{setLoading(true);const facetValue=subcategory.replace(/-/g,'_');const response=await fetch(\"http://localhost:3003/api/articles/search?query=\".concat(encodeURIComponent(debouncedSearch),\"&category=\").concat(facetValue));if(response.ok){const data=await response.json();setArticles(data.articles||[]);}}catch(err){console.error('Search error:',err);}finally{setLoading(false);}};if(isFirstRun.current){isFirstRun.current=false;}else{performSearch();}},[debouncedSearch,subcategory,initialArticles]);const handleEditArticle=article=>{console.log('ðŸ“ Opening article:',article.title);console.log('ðŸ“ Article content type:',typeof article.content);console.log('ðŸ“ Article content:',article.content);// Parse the content if it's a JSON string\nlet articleContent=article.content;if(typeof articleContent==='string'){try{articleContent=JSON.parse(articleContent);console.log('âœ… Parsed content:',articleContent);}catch(e){console.error('âŒ Failed to parse article content:',e);console.error('âŒ Content was:',article.content);articleContent=[];}}const navigationState={editArticle:{id:article.id,title:article.title,cards:articleContent}};console.log('ðŸš€ Navigating with state:',navigationState);// Navigate to home with article data in state\nnavigate('/',{state:navigationState});};const handleLogin=()=>{// Redirect to home page which has login functionality\nnavigate('/');};if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-white\",children:[/*#__PURE__*/_jsx(Header,{user:user,onLoginClick:handleLogin,onLogoutClick:logout}),/*#__PURE__*/_jsx(ThreeColumnLayout,{left:/*#__PURE__*/_jsx(LeftNavigation,{}),right:/*#__PURE__*/_jsx(RightSidebar,{}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 text-xl font-medium\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600\",children:\"Retry\"})]})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-white flex flex-col\",children:[/*#__PURE__*/_jsx(SEO,{title:\"\".concat((categoryInfo===null||categoryInfo===void 0?void 0:categoryInfo.label)||subcategory.replace(/-/g,' '),\" - How-to Articles\"),description:\"Browse \".concat((categoryInfo===null||categoryInfo===void 0?void 0:categoryInfo.label)||subcategory.replace(/-/g,' '),\" articles and guides. Learn from expert tutorials and step-by-step instructions.\"),keywords:\"\".concat(subcategory,\", tutorials, how-to, guides, articles\")}),/*#__PURE__*/_jsx(Header,{user:user,onLoginClick:handleLogin,onLogoutClick:logout}),/*#__PURE__*/_jsxs(ThreeColumnLayout,{left:/*#__PURE__*/_jsx(LeftNavigation,{}),right:/*#__PURE__*/_jsx(RightSidebar,{}),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:(categoryInfo===null||categoryInfo===void 0?void 0:categoryInfo.label)||subcategory.replace(/-/g,' ')}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[categoryInfo!==null&&categoryInfo!==void 0&&(_categoryInfo$facet=categoryInfo.facet)!==null&&_categoryInfo$facet!==void 0&&_categoryInfo$facet.label?\"\".concat(categoryInfo.facet.label,\": \"):'',\"Articles in this category\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 bg-white p-1 rounded-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search in this category...\",className:\"w-full pl-10 pr-4 py-3 border-0 border-b border-gray-300 focus:border-b-2 focus:border-blue-500 focus:outline-none\",onChange:e=>setSearchQuery(e.target.value)}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-3 top-3.5 text-gray-400\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})})]})}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Searching...\"})]}):articles.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"No articles found.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"Try different keywords.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow overflow-hidden sm:rounded-md\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-gray-200\",children:articles.map(article=>{var _article$author,_article$author2,_article$author2$emai,_article$facetAssignm;return/*#__PURE__*/_jsx(\"li\",{className:\"border-b border-gray-200 last:border-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-2 p-4 hover:bg-gray-50 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/article/\".concat(subcategory,\"/\").concat(article.id),className:\"text-lg font-medium text-blue-600 hover:underline focus:outline-none w-full text-left block\",children:article.title||'Untitled Article'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:[\"By \",((_article$author=article.author)===null||_article$author===void 0?void 0:_article$author.name)||((_article$author2=article.author)===null||_article$author2===void 0?void 0:(_article$author2$emai=_article$author2.email)===null||_article$author2$emai===void 0?void 0:_article$author2$emai.split('@')[0])||'Unknown Author',\" \\u2022 \",article.updated_at?new Date(article.updated_at).toLocaleDateString():'']}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1 mt-2\",children:(_article$facetAssignm=article.facetAssignments)===null||_article$facetAssignm===void 0?void 0:_article$facetAssignm.slice(0,3).map(assignment=>{var _assignment$value;return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-50 text-blue-700\",children:(_assignment$value=assignment.value)===null||_assignment$value===void 0?void 0:_assignment$value.label},assignment.id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditArticle(article),className:\"text-sm font-medium text-blue-600 hover:text-blue-800 focus:outline-none\",children:\"Edit & save to profile\"})})]})})},article.id);})})})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default CategoryArticlesPage;","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","Link","Header","Footer","ThreeColumnLayout","LeftNavigation","RightSidebar","useAuth","SEO","useDebounce","jsx","_jsx","jsxs","_jsxs","CategoryArticlesPage","_categoryInfo$facet","category","subcategory","user","logout","navigate","articles","setArticles","initialArticles","setInitialArticles","categoryInfo","setCategoryInfo","loading","setLoading","error","setError","searchQuery","setSearchQuery","debouncedSearch","isFirstRun","fetchCategoryArticles","facetValue","replace","response","fetch","concat","ok","status","data","json","err","console","performSearch","trim","length","encodeURIComponent","current","handleEditArticle","article","log","title","content","articleContent","JSON","parse","e","navigationState","editArticle","id","cards","state","handleLogin","className","children","onLoginClick","onLogoutClick","left","right","onClick","window","location","reload","label","description","keywords","facet","type","placeholder","onChange","target","value","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","map","_article$author","_article$author2","_article$author2$emai","_article$facetAssignm","to","author","name","email","split","updated_at","Date","toLocaleDateString","facetAssignments","slice","assignment","_assignment$value"],"sources":["D:/SRC/XAMPP/htdocs/sites/Briefer-v02/src/components/CategoryArticlesPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate, Link } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport ThreeColumnLayout from './ThreeColumnLayout';\r\nimport LeftNavigation from './LeftNavigation';\r\nimport RightSidebar from './RightSidebar';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport SEO from '../utils/seo';\r\nimport useDebounce from '../hooks/useDebounce';\r\n\r\nconst CategoryArticlesPage = () => {\r\n    const { category, subcategory } = useParams();\r\n    const { user, logout } = useAuth();\r\n    const navigate = useNavigate();\r\n\r\n    const [articles, setArticles] = useState([]);\r\n    const [initialArticles, setInitialArticles] = useState([]); // Store original articles\r\n    const [categoryInfo, setCategoryInfo] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const debouncedSearch = useDebounce(searchQuery, 300);\r\n    const isFirstRun = useRef(true);\r\n\r\n    // Initial load of category articles\r\n    useEffect(() => {\r\n        const fetchCategoryArticles = async () => {\r\n            try {\r\n                setLoading(true);\r\n\r\n                // 'sales-marketing' -> 'sales_marketing'\r\n                const facetValue = subcategory.replace(/-/g, '_');\r\n\r\n                const response = await fetch(\r\n                    `http://localhost:3003/api/articles/categories/${facetValue}`\r\n                );\r\n\r\n                if (!response.ok) {\r\n                    if (response.status === 404) {\r\n                        setError('Category not found');\r\n                    } else {\r\n                        setError('Failed to fetch articles');\r\n                    }\r\n                    return;\r\n                }\r\n\r\n                const data = await response.json();\r\n                setCategoryInfo(data.category);\r\n                setArticles(data.articles || []);\r\n                setInitialArticles(data.articles || []);\r\n            } catch (err) {\r\n                console.error('Error fetching category articles:', err);\r\n                setError('Failed to fetch articles');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        if (searchQuery === '') {\r\n            fetchCategoryArticles();\r\n        }\r\n    }, [category, subcategory]);\r\n\r\n    // Search effect\r\n    useEffect(() => {\r\n        const performSearch = async () => {\r\n            if (debouncedSearch.trim() === '') {\r\n                // Restore original if search is cleared\r\n                if (initialArticles.length > 0) {\r\n                    setArticles(initialArticles);\r\n                }\r\n                return;\r\n            }\r\n\r\n            try {\r\n                setLoading(true);\r\n                const facetValue = subcategory.replace(/-/g, '_');\r\n                const response = await fetch(\r\n                    `http://localhost:3003/api/articles/search?query=${encodeURIComponent(debouncedSearch)}&category=${facetValue}`\r\n                );\r\n\r\n                if (response.ok) {\r\n                    const data = await response.json();\r\n                    setArticles(data.articles || []);\r\n                }\r\n            } catch (err) {\r\n                console.error('Search error:', err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        if (isFirstRun.current) {\r\n            isFirstRun.current = false;\r\n        } else {\r\n            performSearch();\r\n        }\r\n\r\n    }, [debouncedSearch, subcategory, initialArticles]);\r\n\r\n    const handleEditArticle = (article) => {\r\n        console.log('ðŸ“ Opening article:', article.title);\r\n        console.log('ðŸ“ Article content type:', typeof article.content);\r\n        console.log('ðŸ“ Article content:', article.content);\r\n\r\n        // Parse the content if it's a JSON string\r\n        let articleContent = article.content;\r\n        if (typeof articleContent === 'string') {\r\n            try {\r\n                articleContent = JSON.parse(articleContent);\r\n                console.log('âœ… Parsed content:', articleContent);\r\n            } catch (e) {\r\n                console.error('âŒ Failed to parse article content:', e);\r\n                console.error('âŒ Content was:', article.content);\r\n                articleContent = [];\r\n            }\r\n        }\r\n\r\n        const navigationState = {\r\n            editArticle: {\r\n                id: article.id,\r\n                title: article.title,\r\n                cards: articleContent\r\n            }\r\n        };\r\n\r\n        console.log('ðŸš€ Navigating with state:', navigationState);\r\n\r\n        // Navigate to home with article data in state\r\n        navigate('/', {\r\n            state: navigationState\r\n        });\r\n    };\r\n\r\n    const handleLogin = () => {\r\n        // Redirect to home page which has login functionality\r\n        navigate('/');\r\n    };\r\n\r\n\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"min-h-screen bg-white\">\r\n                <Header user={user} onLoginClick={handleLogin} onLogoutClick={logout} />\r\n                <ThreeColumnLayout\r\n                    left={<LeftNavigation />}\r\n                    right={<RightSidebar />}\r\n                >\r\n                    <div className=\"text-center py-12\">\r\n                        <div className=\"text-red-500 text-xl font-medium\">{error}</div>\r\n                        <button\r\n                            onClick={() => window.location.reload()}\r\n                            className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600\"\r\n                        >\r\n                            Retry\r\n                        </button>\r\n                    </div>\r\n                </ThreeColumnLayout>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-white flex flex-col\">\r\n            <SEO\r\n                title={`${categoryInfo?.label || subcategory.replace(/-/g, ' ')} - How-to Articles`}\r\n                description={`Browse ${categoryInfo?.label || subcategory.replace(/-/g, ' ')} articles and guides. Learn from expert tutorials and step-by-step instructions.`}\r\n                keywords={`${subcategory}, tutorials, how-to, guides, articles`}\r\n            />\r\n            <Header user={user} onLoginClick={handleLogin} onLogoutClick={logout} />\r\n\r\n            <ThreeColumnLayout\r\n                left={<LeftNavigation />}\r\n                right={<RightSidebar />}\r\n            >\r\n                <div className=\"mb-8\">\r\n                    <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n                        {categoryInfo?.label || subcategory.replace(/-/g, ' ')}\r\n                    </h1>\r\n                    <p className=\"text-gray-600\">\r\n                        {categoryInfo?.facet?.label ? `${categoryInfo.facet.label}: ` : ''}\r\n                        Articles in this category\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"mb-6 bg-white p-1 rounded-md\">\r\n                    <div className=\"relative\">\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search in this category...\"\r\n                            className=\"w-full pl-10 pr-4 py-3 border-0 border-b border-gray-300 focus:border-b-2 focus:border-blue-500 focus:outline-none\"\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                        />\r\n                        <div className=\"absolute left-3 top-3.5 text-gray-400\">\r\n                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                            </svg>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {loading ? (\r\n                    <div className=\"text-center py-12\">\r\n                        <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\r\n                        <p className=\"mt-4 text-gray-600\">Searching...</p>\r\n                    </div>\r\n                ) : articles.length === 0 ? (\r\n                    <div className=\"text-center py-12\">\r\n                        <p className=\"text-gray-500 mb-4\">No articles found.</p>\r\n                        <p className=\"text-gray-500 text-sm\">Try different keywords.</p>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\r\n                        <ul className=\"divide-y divide-gray-200\">\r\n                            {articles.map((article) => (\r\n                                <li key={article.id} className=\"border-b border-gray-200 last:border-0\">\r\n                                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2 p-4 hover:bg-gray-50 transition-colors\">\r\n                                        <div>\r\n                                            <Link\r\n                                                to={`/article/${subcategory}/${article.id}`}\r\n                                                className=\"text-lg font-medium text-blue-600 hover:underline focus:outline-none w-full text-left block\"\r\n                                            >\r\n                                                {article.title || 'Untitled Article'}\r\n                                            </Link>\r\n                                            <p className=\"text-sm text-gray-500 mt-1\">\r\n                                                By {article.author?.name || article.author?.email?.split('@')[0] || 'Unknown Author'} â€¢ {article.updated_at ? new Date(article.updated_at).toLocaleDateString() : ''}\r\n                                            </p>\r\n                                            <div className=\"flex flex-wrap gap-1 mt-2\">\r\n                                                {article.facetAssignments?.slice(0, 3).map((assignment) => (\r\n                                                    <span\r\n                                                        key={assignment.id}\r\n                                                        className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-50 text-blue-700\"\r\n                                                    >\r\n                                                        {assignment.value?.label}\r\n                                                    </span>\r\n                                                ))}\r\n                                            </div>\r\n                                            <div className=\"mt-3\">\r\n                                                <button\r\n                                                    onClick={() => handleEditArticle(article)}\r\n                                                    className=\"text-sm font-medium text-blue-600 hover:text-blue-800 focus:outline-none\"\r\n                                                >\r\n                                                    Edit &amp; save to profile\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                )}\r\n            </ThreeColumnLayout>\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CategoryArticlesPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}