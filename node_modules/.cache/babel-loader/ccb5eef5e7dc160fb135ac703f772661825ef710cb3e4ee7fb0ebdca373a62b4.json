{"ast":null,"code":"var _jsxFileName = \"D:\\\\SRC\\\\XAMPP\\\\htdocs\\\\sites\\\\UI\\\\article-page-v07\\\\src\\\\components\\\\RichTextDisplay.js\";\nimport React from 'react';\nimport DOMPurify from 'dompurify';\n\n// Configure DOMPurify to allow Quill.js specific attributes and classes\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst configureDOMPurify = () => {\n  // Allow Quill.js specific classes and attributes\n  DOMPurify.addHook('uponSanitizeElement', (node, data) => {\n    if (data.tagName === 'div' && node.classList.contains('ql-editor')) {\n      node.classList.add('ql-editor');\n    }\n  });\n};\n\n// Run configuration once\nconfigureDOMPurify();\nconst RichTextDisplay = ({\n  content\n}) => {\n  // Sanitize the HTML content to prevent XSS attacks\n  // Allow Quill.js specific formatting\n  const sanitizedContent = DOMPurify.sanitize(content, {\n    ALLOWED_TAGS: ['h2', 'h3', 'h4', 'h5', 'h6', 'p', 'br', 'span', 'strong', 'b', 'em', 'i', 'u', 's', 'ul', 'ol', 'li', 'a', 'img', 'blockquote', 'code', 'pre', 'div'],\n    ALLOWED_ATTR: ['class', 'id', 'href', 'src', 'alt', 'title', 'style', 'data-', 'contenteditable'],\n    // Allow specific classes for Quill.js formatting\n    ALLOW_DATA_ATTR: true,\n    ADD_TAGS: ['iframe'],\n    ADD_ATTR: ['allow', 'allowfullscreen', 'frameborder', 'scrolling']\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rich-text-content quill-content\",\n    dangerouslySetInnerHTML: {\n      __html: sanitizedContent\n    },\n    \"data-testid\": \"rich-text-content\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_c = RichTextDisplay;\nexport default RichTextDisplay;\nvar _c;\n$RefreshReg$(_c, \"RichTextDisplay\");","map":{"version":3,"names":["React","DOMPurify","jsxDEV","_jsxDEV","configureDOMPurify","addHook","node","data","tagName","classList","contains","add","RichTextDisplay","content","sanitizedContent","sanitize","ALLOWED_TAGS","ALLOWED_ATTR","ALLOW_DATA_ATTR","ADD_TAGS","ADD_ATTR","className","dangerouslySetInnerHTML","__html","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/SRC/XAMPP/htdocs/sites/UI/article-page-v07/src/components/RichTextDisplay.js"],"sourcesContent":["import React from 'react';\r\nimport DOMPurify from 'dompurify';\r\n\r\n// Configure DOMPurify to allow Quill.js specific attributes and classes\r\nconst configureDOMPurify = () => {\r\n  // Allow Quill.js specific classes and attributes\r\n  DOMPurify.addHook('uponSanitizeElement', (node, data) => {\r\n    if (data.tagName === 'div' && node.classList.contains('ql-editor')) {\r\n      node.classList.add('ql-editor');\r\n    }\r\n  });\r\n};\r\n\r\n// Run configuration once\r\nconfigureDOMPurify();\r\n\r\nconst RichTextDisplay = ({ content }) => {\r\n  // Sanitize the HTML content to prevent XSS attacks\r\n  // Allow Quill.js specific formatting\r\n  const sanitizedContent = DOMPurify.sanitize(content, {\r\n    ALLOWED_TAGS: [\r\n       'h2', 'h3', 'h4', 'h5', 'h6',\r\n      'p', 'br', 'span',\r\n      'strong', 'b', 'em', 'i', 'u', 's',\r\n      'ul', 'ol', 'li',\r\n      'a', 'img',\r\n      'blockquote', 'code', 'pre',\r\n      'div'\r\n    ],\r\n    ALLOWED_ATTR: [\r\n      'class', 'id', 'href', 'src', 'alt', 'title', \r\n      'style', 'data-', 'contenteditable'\r\n    ],\r\n    // Allow specific classes for Quill.js formatting\r\n    ALLOW_DATA_ATTR: true,\r\n    ADD_TAGS: ['iframe'],\r\n    ADD_ATTR: ['allow', 'allowfullscreen', 'frameborder', 'scrolling']\r\n  });\r\n\r\n  return (\r\n    <div \r\n      className=\"rich-text-content quill-content\"\r\n      dangerouslySetInnerHTML={{ __html: sanitizedContent }}\r\n      data-testid=\"rich-text-content\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default RichTextDisplay;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,WAAW;;AAEjC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;EAC/B;EACAH,SAAS,CAACI,OAAO,CAAC,qBAAqB,EAAE,CAACC,IAAI,EAAEC,IAAI,KAAK;IACvD,IAAIA,IAAI,CAACC,OAAO,KAAK,KAAK,IAAIF,IAAI,CAACG,SAAS,CAACC,QAAQ,CAAC,WAAW,CAAC,EAAE;MAClEJ,IAAI,CAACG,SAAS,CAACE,GAAG,CAAC,WAAW,CAAC;IACjC;EACF,CAAC,CAAC;AACJ,CAAC;;AAED;AACAP,kBAAkB,CAAC,CAAC;AAEpB,MAAMQ,eAAe,GAAGA,CAAC;EAAEC;AAAQ,CAAC,KAAK;EACvC;EACA;EACA,MAAMC,gBAAgB,GAAGb,SAAS,CAACc,QAAQ,CAACF,OAAO,EAAE;IACnDG,YAAY,EAAE,CACX,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAC7B,GAAG,EAAE,IAAI,EAAE,MAAM,EACjB,QAAQ,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAClC,IAAI,EAAE,IAAI,EAAE,IAAI,EAChB,GAAG,EAAE,KAAK,EACV,YAAY,EAAE,MAAM,EAAE,KAAK,EAC3B,KAAK,CACN;IACDC,YAAY,EAAE,CACZ,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAC5C,OAAO,EAAE,OAAO,EAAE,iBAAiB,CACpC;IACD;IACAC,eAAe,EAAE,IAAI;IACrBC,QAAQ,EAAE,CAAC,QAAQ,CAAC;IACpBC,QAAQ,EAAE,CAAC,OAAO,EAAE,iBAAiB,EAAE,aAAa,EAAE,WAAW;EACnE,CAAC,CAAC;EAEF,oBACEjB,OAAA;IACEkB,SAAS,EAAC,iCAAiC;IAC3CC,uBAAuB,EAAE;MAAEC,MAAM,EAAET;IAAiB,CAAE;IACtD,eAAY;EAAmB;IAAAU,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAChC,CAAC;AAEN,CAAC;AAACC,EAAA,GA9BIhB,eAAe;AAgCrB,eAAeA,eAAe;AAAC,IAAAgB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}