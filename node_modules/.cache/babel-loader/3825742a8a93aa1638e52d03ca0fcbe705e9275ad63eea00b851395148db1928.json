{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../context/AuthContext';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegistrationModal=_ref=>{let{isOpen,onClose,onSuccess}=_ref;const[isLogin,setIsLogin]=useState(false);const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const{register,login,loginWithGoogle}=useAuth();const navigate=useNavigate();if(!isOpen)return null;const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);try{if(isLogin){await login(email,password);}else{await register(email,password);}// Call onSuccess callback if provided\nif(onSuccess){onSuccess();}// Close the modal\nonClose();// Navigate to profile page after successful authentication\nnavigate('/profile');}catch(err){setError(err.message);}finally{setLoading(false);}};const handleGoogleLogin=()=>{loginWithGoogle();};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-8 max-w-md w-full mx-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:isLogin?'Login':'Create Account'}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true,minLength:\"6\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50\",children:loading?'Processing...':isLogin?'Login':'Create Account'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-grow border-t border-gray-300\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-4 text-gray-500 text-sm\",children:\"OR\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-grow border-t border-gray-300\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleGoogleLogin,className:\"w-full flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-700 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"18\",height:\"18\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{fill:\"#4285F4\",d:\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#34A853\",d:\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#FBBC05\",d:\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#EA4335\",d:\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"})]}),\"Continue with Google\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setIsLogin(!isLogin);setError('');},className:\"text-blue-500 hover:text-blue-700 text-sm\",children:isLogin?\"Don't have an account? Sign up\":'Already have an account? Login'})})]})});};export default RegistrationModal;","map":{"version":3,"names":["React","useState","useAuth","useNavigate","jsx","_jsx","jsxs","_jsxs","RegistrationModal","_ref","isOpen","onClose","onSuccess","isLogin","setIsLogin","email","setEmail","password","setPassword","error","setError","loading","setLoading","register","login","loginWithGoogle","navigate","handleSubmit","e","preventDefault","err","message","handleGoogleLogin","className","children","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onSubmit","htmlFor","id","type","value","onChange","target","required","minLength","disabled","xmlns","width","height"],"sources":["D:/SRC/XAMPP/htdocs/sites/Briefer-v02/src/components/RegistrationModal.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst RegistrationModal = ({ isOpen, onClose, onSuccess }) => {\r\n    const [isLogin, setIsLogin] = useState(false);\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const { register, login, loginWithGoogle } = useAuth();\r\n    const navigate = useNavigate();\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setLoading(true);\r\n\r\n        try {\r\n            if (isLogin) {\r\n                await login(email, password);\r\n            } else {\r\n                await register(email, password);\r\n            }\r\n            \r\n            // Call onSuccess callback if provided\r\n            if (onSuccess) {\r\n                onSuccess();\r\n            }\r\n            \r\n            // Close the modal\r\n            onClose();\r\n            \r\n            // Navigate to profile page after successful authentication\r\n            navigate('/profile');\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleGoogleLogin = () => {\r\n        loginWithGoogle();\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n            <div className=\"bg-white rounded-lg p-8 max-w-md w-full mx-4\">\r\n                <div className=\"flex justify-between items-center mb-6\">\r\n                    <h2 className=\"text-2xl font-bold text-gray-900\">\r\n                        {isLogin ? 'Login' : 'Create Account'}\r\n                    </h2>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"text-gray-400 hover:text-gray-600\"\r\n                    >\r\n                        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"mb-4\">\r\n                        <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"email\">\r\n                            Email\r\n                        </label>\r\n                        <input\r\n                            id=\"email\"\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"mb-6\">\r\n                        <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"password\">\r\n                            Password\r\n                        </label>\r\n                        <input\r\n                            id=\"password\"\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            required\r\n                            minLength=\"6\"\r\n                        />\r\n                    </div>\r\n\r\n                    {error && (\r\n                        <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className=\"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50\"\r\n                    >\r\n                        {loading ? 'Processing...' : (isLogin ? 'Login' : 'Create Account')}\r\n                    </button>\r\n                </form>\r\n\r\n                <div className=\"my-4 flex items-center\">\r\n                    <div className=\"flex-grow border-t border-gray-300\"></div>\r\n                    <span className=\"mx-4 text-gray-500 text-sm\">OR</span>\r\n                    <div className=\"flex-grow border-t border-gray-300\"></div>\r\n                </div>\r\n\r\n                <button\r\n                    onClick={handleGoogleLogin}\r\n                    className=\"w-full flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-700 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline hover:bg-gray-50 transition-colors\"\r\n                >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">\r\n                        <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\r\n                        <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\r\n                        <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\r\n                        <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\r\n                    </svg>\r\n                    Continue with Google\r\n                </button>\r\n\r\n                <div className=\"mt-4 text-center\">\r\n                    <button\r\n                        onClick={() => {\r\n                            setIsLogin(!isLogin);\r\n                            setError('');\r\n                        }}\r\n                        className=\"text-blue-500 hover:text-blue-700 text-sm\"\r\n                    >\r\n                        {isLogin ? \"Don't have an account? Sign up\" : 'Already have an account? Login'}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RegistrationModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}