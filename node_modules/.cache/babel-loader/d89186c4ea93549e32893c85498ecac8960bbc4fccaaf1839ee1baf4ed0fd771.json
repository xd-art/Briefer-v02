{"ast":null,"code":"var _jsxFileName = \"D:\\\\SRC\\\\XAMPP\\\\htdocs\\\\sites\\\\UI\\\\article-page-v07\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport CardEditor from './components/CardEditor';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [cards, setCards] = useState([]);\n  const [showNotification, setShowNotification] = useState({\n    show: false,\n    message: '',\n    type: 'info'\n  });\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filteredCards, setFilteredCards] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [history, setHistory] = useState([]); // For undo functionality\n  const [historyIndex, setHistoryIndex] = useState(-1); // Current position in history\n  const cardEditorRef = useRef();\n  const fileInputRef = useRef();\n\n  // Load saved data on component mount\n  useEffect(() => {\n    const savedData = localStorage.getItem('cardEditorData');\n    const savedCategories = localStorage.getItem('cardCategories');\n    const savedHistory = localStorage.getItem('cardHistory');\n    if (savedCategories) {\n      try {\n        setCategories(JSON.parse(savedCategories));\n      } catch (error) {\n        console.error('Error loading categories:', error);\n      }\n    }\n    if (savedHistory) {\n      try {\n        const parsedHistory = JSON.parse(savedHistory);\n        setHistory(parsedHistory);\n        setHistoryIndex(parsedHistory.length - 1);\n      } catch (error) {\n        console.error('Error loading history:', error);\n      }\n    }\n    if (savedData) {\n      try {\n        const parsedData = JSON.parse(savedData);\n        const cardArray = Object.entries(parsedData).map(([id, content]) => ({\n          id,\n          content,\n          category: 'uncategorized' // Default category\n        }));\n        setCards(cardArray);\n        setFilteredCards(cardArray); // Initialize filtered cards\n\n        // Add initial state to history if history is empty\n        if (!savedHistory) {\n          addToHistory(cardArray);\n        }\n      } catch (error) {\n        console.error('Error loading saved data:', error);\n      }\n    } else {\n      // Initialize with default content if no saved data\n      const defaultCards = [{\n        id: 'intro',\n        content: `\n            <h2 class=\"text-2xl font-semibold mb-4 text-gray-800\">Introduction</h2>\n            <p class=\"text-gray-600 mb-4\">Welcome to our revolutionary card-based editing system! This innovative approach allows you to edit text content in an intuitive, modular way. Each paragraph or section of your article becomes an editable card that you can modify independently.</p>\n            <div class=\"flex justify-end\">\n              <a href=\"#\" class=\"text-blue-500 font-medium text-sm edit-link\" data-card-id=\"intro\">EDIT</a>\n            </div>\n          `,\n        category: 'general'\n      }, {\n        id: 'main-content',\n        content: `\n            <h2 class=\"text-2xl font-semibold mb-4 text-gray-800\">How the Card System Works</h2>\n            <p class=\"text-gray-600 mb-2\">Each text block in this article is contained within a card. When you click the EDIT link, you'll see a modal dialog where you can modify the text content using our advanced editor.</p>\n            <p class=\"text-gray-600 mb-4\">The editor includes AI assistance features - simply type your prompt in the dedicated field and use the up arrow (↑) button to send it for processing. This helps you improve, expand, or refine your content with intelligent suggestions.</p>\n            <div class=\"flex justify-end\">\n              <a href=\"#\" class=\"text-blue-500 font-medium text-sm edit-link\" data-card-id=\"main-content\">EDIT</a>\n            </div>\n          `,\n        category: 'general'\n      }, {\n        id: 'features',\n        content: `\n            <h2 class=\"text-2xl font-semibold mb-4 text-gray-800\">Key Features</h2>\n            <p class=\"text-gray-600 mb-4\">Intuitive Editing: Click the edit button to open a modal with advanced text editing capabilities. AI Integration: Use prompts to enhance your content with AI assistance. Save Options: Choose between saving edits temporarily or saving to your profile permanently. Responsive Design: Works seamlessly on both desktop and mobile devices. Keyboard Shortcuts: Use Ctrl+Enter to save or Esc to cancel in the editor.</p>\n            <div class=\"flex justify-end\">\n              <a href=\"#\" class=\"text-blue-500 font-medium text-sm edit-link\" data-card-id=\"features\">EDIT</a>\n            </div>\n          `,\n        category: 'features'\n      }, {\n        id: 'conclusion',\n        content: `\n            <h2 class=\"text-2xl font-semibold mb-4 text-gray-800\">Conclusion</h2>\n            <p class=\"text-gray-600 mb-4\">This card-based editing system represents the future of content creation and editing. By breaking down articles into manageable, editable cards, we make the writing and editing process more intuitive and efficient. Try editing any of these cards to experience the system firsthand!</p>\n            <div class=\"flex justify-end\">\n              <a href=\"#\" class=\"text-blue-500 font-medium text-sm edit-link\" data-card-id=\"conclusion\">EDIT</a>\n            </div>\n          `,\n        category: 'general'\n      }];\n      setCards(defaultCards);\n      setFilteredCards(defaultCards); // Initialize filtered cards\n\n      // Initialize with some default categories\n      const defaultCategories = [{\n        id: 'all',\n        name: 'All Cards'\n      }, {\n        id: 'general',\n        name: 'General'\n      }, {\n        id: 'features',\n        name: 'Features'\n      }, {\n        id: 'uncategorized',\n        name: 'Uncategorized'\n      }];\n      setCategories(defaultCategories);\n\n      // Add initial state to history\n      addToHistory(defaultCards);\n    }\n  }, []);\n\n  // Add current state to history\n  const addToHistory = cardsState => {\n    // If we're not at the end of history, remove future states\n    const newHistory = history.slice(0, historyIndex + 1);\n    newHistory.push(JSON.parse(JSON.stringify(cardsState))); // Deep copy\n    setHistory(newHistory);\n    setHistoryIndex(newHistory.length - 1);\n\n    // Save to localStorage\n    localStorage.setItem('cardHistory', JSON.stringify(newHistory));\n  };\n\n  // Undo to previous state\n  const undo = () => {\n    if (historyIndex > 0) {\n      const newIndex = historyIndex - 1;\n      setCards(history[newIndex]);\n      setFilteredCards(history[newIndex]);\n      setHistoryIndex(newIndex);\n      showNotificationMessage('Undo successful!', 'success');\n    } else {\n      showNotificationMessage('No more undo steps available.', 'warning');\n    }\n  };\n\n  // Redo to next state\n  const redo = () => {\n    if (historyIndex < history.length - 1) {\n      const newIndex = historyIndex + 1;\n      setCards(history[newIndex]);\n      setFilteredCards(history[newIndex]);\n      setHistoryIndex(newIndex);\n      showNotificationMessage('Redo successful!', 'success');\n    } else {\n      showNotificationMessage('No more redo steps available.', 'warning');\n    }\n  };\n\n  // Filter cards based on search term and category\n  useEffect(() => {\n    let result = cards;\n\n    // Filter by category\n    if (selectedCategory !== 'all') {\n      result = result.filter(card => card.category === selectedCategory);\n    }\n\n    // Filter by search term\n    if (searchTerm.trim()) {\n      result = result.filter(card => {\n        // Create a temporary element to extract text content\n        const tempElement = document.createElement('div');\n        tempElement.innerHTML = card.content;\n        const textContent = tempElement.textContent.toLowerCase();\n        return textContent.includes(searchTerm.toLowerCase());\n      });\n    }\n    setFilteredCards(result);\n  }, [searchTerm, selectedCategory, cards]);\n\n  // Handle edit link clicks\n  useEffect(() => {\n    const handleEditClick = e => {\n      if (e.target.classList.contains('edit-link')) {\n        e.preventDefault();\n        const cardId = e.target.dataset.cardId;\n        const card = cards.find(c => c.id === cardId);\n        if (card && cardEditorRef.current) {\n          // Access the openEditModal function through the CardEditor component\n          // We'll need to pass a callback to the CardEditor component\n          const event = new CustomEvent('openEditModal', {\n            detail: card\n          });\n          window.dispatchEvent(event);\n        }\n      }\n    };\n    document.addEventListener('click', handleEditClick);\n    return () => {\n      document.removeEventListener('click', handleEditClick);\n    };\n  }, [cards]);\n  const showNotificationMessage = (message, type = 'info') => {\n    setShowNotification({\n      show: true,\n      message,\n      type\n    });\n    setTimeout(() => {\n      setShowNotification({\n        show: false,\n        message: '',\n        type: 'info'\n      });\n    }, 4000);\n  };\n  const saveAllData = () => {\n    const cardsData = {};\n    cards.forEach(card => {\n      cardsData[card.id] = card.content;\n    });\n    localStorage.setItem('cardEditorData', JSON.stringify(cardsData));\n    localStorage.setItem('cardEditorTimestamp', new Date().toISOString());\n    localStorage.setItem('cardCategories', JSON.stringify(categories));\n    showNotificationMessage('All edits saved locally!', 'success');\n  };\n  const reloadPage = () => {\n    window.location.reload();\n  };\n  const addNewCard = () => {\n    const newCard = {\n      id: 'card-' + Date.now(),\n      content: `\n        <h2 class=\"text-2xl font-semibold mb-4 text-gray-800\">New Card</h2>\n        <p class=\"text-gray-600 mb-4\">Click EDIT to add content to this new card.</p>\n        <div class=\"flex justify-end\">\n          <a href=\"#\" class=\"text-blue-500 font-medium text-sm edit-link\" data-card-id=\"card-${Date.now()}\">EDIT</a>\n        </div>\n      `,\n      category: 'uncategorized'\n    };\n    const newCards = [...cards, newCard];\n    setCards(newCards);\n    addToHistory(newCards); // Add to history\n  };\n\n  // Export cards to JSON file\n  const exportCards = () => {\n    const cardsData = {};\n    cards.forEach(card => {\n      cardsData[card.id] = card.content;\n    });\n    const dataStr = JSON.stringify(cardsData, null, 2);\n    const dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr);\n    const exportFileDefaultName = 'article-cards.json';\n    const linkElement = document.createElement('a');\n    linkElement.setAttribute('href', dataUri);\n    linkElement.setAttribute('download', exportFileDefaultName);\n    linkElement.click();\n    showNotificationMessage('Cards exported successfully!', 'success');\n  };\n\n  // Import cards from JSON file\n  const importCards = event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = e => {\n      try {\n        const importedData = JSON.parse(e.target.result);\n        const cardArray = Object.entries(importedData).map(([id, content]) => ({\n          id,\n          content,\n          category: 'uncategorized' // Default category for imported cards\n        }));\n        setCards(cardArray);\n        addToHistory(cardArray); // Add to history\n        showNotificationMessage('Cards imported successfully!', 'success');\n      } catch (error) {\n        console.error('Error importing data:', error);\n        showNotificationMessage('Error importing cards. Please check the file format.', 'error');\n      }\n    };\n    reader.readAsText(file);\n\n    // Reset file input\n    event.target.value = '';\n  };\n\n  // Add a new category\n  const addCategory = categoryName => {\n    if (!categoryName.trim()) return;\n    const newCategory = {\n      id: categoryName.toLowerCase().replace(/\\s+/g, '-'),\n      name: categoryName\n    };\n    setCategories([...categories, newCategory]);\n    showNotificationMessage(`Category \"${categoryName}\" added!`, 'success');\n  };\n\n  // Callback function to open the edit modal\n  const handleOpenEditModal = card => {\n    if (cardEditorRef.current && cardEditorRef.current.openEditModal) {\n      cardEditorRef.current.openEditModal(card);\n    }\n  };\n\n  // Update cards with history tracking\n  const updateCardsWithHistory = newCards => {\n    setCards(newCards);\n    addToHistory(newCards); // Add to history\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-100 flex justify-center py-10 px-4 sm:px-6 lg:px-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container bg-white p-6 sm:p-8 rounded-lg shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl font-bold mb-8 text-gray-900\",\n        children: \"Getting Started with Card Editing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 flex flex-wrap gap-2 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 min-w-[200px]\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search cards...\",\n            className: \"w-full p-2 border border-gray-300 rounded-lg\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"p-2 border border-gray-300 rounded-lg\",\n          value: selectedCategory,\n          onChange: e => setSelectedCategory(e.target.value),\n          children: categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: category.id,\n            children: category.name\n          }, category.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-yellow-500 text-white font-bold py-2 px-4 rounded-full shadow-lg transition-all duration-300 hover:bg-yellow-600 text-sm\",\n          onClick: undo,\n          disabled: historyIndex <= 0,\n          children: \"Undo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-yellow-500 text-white font-bold py-2 px-4 rounded-full shadow-lg transition-all duration-300 hover:bg-yellow-600 text-sm\",\n          onClick: redo,\n          disabled: historyIndex >= history.length - 1,\n          children: \"Redo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-green-500 text-white font-bold py-2 px-4 rounded-full shadow-lg transition-all duration-300 hover:bg-green-600 text-sm\",\n          onClick: exportCards,\n          children: \"Export Cards\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-purple-500 text-white font-bold py-2 px-4 rounded-full shadow-lg transition-all duration-300 hover:bg-purple-600 text-sm\",\n          onClick: () => fileInputRef.current.click(),\n          children: \"Import Cards\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          ref: fileInputRef,\n          onChange: importCards,\n          accept: \".json\",\n          className: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), filteredCards.map(card => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        \"data-card-id\": card.id,\n        dangerouslySetInnerHTML: {\n          __html: card.content\n        }\n      }, card.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 11\n      }, this)), filteredCards.length === 0 && (searchTerm || selectedCategory !== 'all') && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8 text-gray-500\",\n        children: \"No cards found matching your criteria\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 flex justify-center w-full px-4 space-x-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"saveEdits\",\n          className: \"bg-blue-500 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all duration-300 hover:bg-blue-600\",\n          onClick: saveAllData,\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"addCard\",\n          className: \"bg-blue-500 rounded-full w-14 h-14 flex items-center justify-center shadow-lg transition-all duration-300 hover:bg-blue-600 cursor-pointer\",\n          onClick: addNewCard,\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-8 h-8 text-white\",\n            fill: \"currentColor\",\n            viewBox: \"0 0 20 20\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"saveToProfile\",\n          className: \"bg-blue-500 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all duration-300 hover:bg-blue-600\",\n          onClick: reloadPage,\n          children: \"Clean\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this), showNotification.show && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `notification notification-${showNotification.type}`,\n      children: showNotification.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CardEditor, {\n      ref: cardEditorRef,\n      cards: cards,\n      setCards: updateCardsWithHistory,\n      showNotification: showNotificationMessage,\n      categories: categories\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 322,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"uDR7Tg4BJpZPTMnnr47VSPXdu5c=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","CardEditor","jsxDEV","_jsxDEV","App","_s","cards","setCards","showNotification","setShowNotification","show","message","type","searchTerm","setSearchTerm","filteredCards","setFilteredCards","categories","setCategories","selectedCategory","setSelectedCategory","history","setHistory","historyIndex","setHistoryIndex","cardEditorRef","fileInputRef","savedData","localStorage","getItem","savedCategories","savedHistory","JSON","parse","error","console","parsedHistory","length","parsedData","cardArray","Object","entries","map","id","content","category","addToHistory","defaultCards","defaultCategories","name","cardsState","newHistory","slice","push","stringify","setItem","undo","newIndex","showNotificationMessage","redo","result","filter","card","trim","tempElement","document","createElement","innerHTML","textContent","toLowerCase","includes","handleEditClick","e","target","classList","contains","preventDefault","cardId","dataset","find","c","current","event","CustomEvent","detail","window","dispatchEvent","addEventListener","removeEventListener","setTimeout","saveAllData","cardsData","forEach","Date","toISOString","reloadPage","location","reload","addNewCard","newCard","now","newCards","exportCards","dataStr","dataUri","encodeURIComponent","exportFileDefaultName","linkElement","setAttribute","click","importCards","file","files","reader","FileReader","onload","importedData","readAsText","value","addCategory","categoryName","newCategory","replace","handleOpenEditModal","openEditModal","updateCardsWithHistory","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","onClick","disabled","ref","accept","dangerouslySetInnerHTML","__html","fill","viewBox","xmlns","fillRule","d","clipRule","_c","$RefreshReg$"],"sources":["D:/SRC/XAMPP/htdocs/sites/UI/article-page-v07/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport CardEditor from './components/CardEditor';\r\n\r\nfunction App() {\r\n  const [cards, setCards] = useState([]);\r\n  const [showNotification, setShowNotification] = useState({ show: false, message: '', type: 'info' });\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filteredCards, setFilteredCards] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState('all');\r\n  const [history, setHistory] = useState([]); // For undo functionality\r\n  const [historyIndex, setHistoryIndex] = useState(-1); // Current position in history\r\n  const cardEditorRef = useRef();\r\n  const fileInputRef = useRef();\r\n\r\n  // Load saved data on component mount\r\n  useEffect(() => {\r\n    const savedData = localStorage.getItem('cardEditorData');\r\n    const savedCategories = localStorage.getItem('cardCategories');\r\n    const savedHistory = localStorage.getItem('cardHistory');\r\n    \r\n    if (savedCategories) {\r\n      try {\r\n        setCategories(JSON.parse(savedCategories));\r\n      } catch (error) {\r\n        console.error('Error loading categories:', error);\r\n      }\r\n    }\r\n    \r\n    if (savedHistory) {\r\n      try {\r\n        const parsedHistory = JSON.parse(savedHistory);\r\n        setHistory(parsedHistory);\r\n        setHistoryIndex(parsedHistory.length - 1);\r\n      } catch (error) {\r\n        console.error('Error loading history:', error);\r\n      }\r\n    }\r\n    \r\n    if (savedData) {\r\n      try {\r\n        const parsedData = JSON.parse(savedData);\r\n        const cardArray = Object.entries(parsedData).map(([id, content]) => ({\r\n          id,\r\n          content,\r\n          category: 'uncategorized' // Default category\r\n        }));\r\n        setCards(cardArray);\r\n        setFilteredCards(cardArray); // Initialize filtered cards\r\n        \r\n        // Add initial state to history if history is empty\r\n        if (!savedHistory) {\r\n          addToHistory(cardArray);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading saved data:', error);\r\n      }\r\n    } else {\r\n      // Initialize with default content if no saved data\r\n      const defaultCards = [\r\n        {\r\n          id: 'intro',\r\n          content: `\r\n            <h2 class=\"text-2xl font-semibold mb-4 text-gray-800\">Introduction</h2>\r\n            <p class=\"text-gray-600 mb-4\">Welcome to our revolutionary card-based editing system! This innovative approach allows you to edit text content in an intuitive, modular way. Each paragraph or section of your article becomes an editable card that you can modify independently.</p>\r\n            <div class=\"flex justify-end\">\r\n              <a href=\"#\" class=\"text-blue-500 font-medium text-sm edit-link\" data-card-id=\"intro\">EDIT</a>\r\n            </div>\r\n          `,\r\n          category: 'general'\r\n        },\r\n        {\r\n          id: 'main-content',\r\n          content: `\r\n            <h2 class=\"text-2xl font-semibold mb-4 text-gray-800\">How the Card System Works</h2>\r\n            <p class=\"text-gray-600 mb-2\">Each text block in this article is contained within a card. When you click the EDIT link, you'll see a modal dialog where you can modify the text content using our advanced editor.</p>\r\n            <p class=\"text-gray-600 mb-4\">The editor includes AI assistance features - simply type your prompt in the dedicated field and use the up arrow (↑) button to send it for processing. This helps you improve, expand, or refine your content with intelligent suggestions.</p>\r\n            <div class=\"flex justify-end\">\r\n              <a href=\"#\" class=\"text-blue-500 font-medium text-sm edit-link\" data-card-id=\"main-content\">EDIT</a>\r\n            </div>\r\n          `,\r\n          category: 'general'\r\n        },\r\n        {\r\n          id: 'features',\r\n          content: `\r\n            <h2 class=\"text-2xl font-semibold mb-4 text-gray-800\">Key Features</h2>\r\n            <p class=\"text-gray-600 mb-4\">Intuitive Editing: Click the edit button to open a modal with advanced text editing capabilities. AI Integration: Use prompts to enhance your content with AI assistance. Save Options: Choose between saving edits temporarily or saving to your profile permanently. Responsive Design: Works seamlessly on both desktop and mobile devices. Keyboard Shortcuts: Use Ctrl+Enter to save or Esc to cancel in the editor.</p>\r\n            <div class=\"flex justify-end\">\r\n              <a href=\"#\" class=\"text-blue-500 font-medium text-sm edit-link\" data-card-id=\"features\">EDIT</a>\r\n            </div>\r\n          `,\r\n          category: 'features'\r\n        },\r\n        {\r\n          id: 'conclusion',\r\n          content: `\r\n            <h2 class=\"text-2xl font-semibold mb-4 text-gray-800\">Conclusion</h2>\r\n            <p class=\"text-gray-600 mb-4\">This card-based editing system represents the future of content creation and editing. By breaking down articles into manageable, editable cards, we make the writing and editing process more intuitive and efficient. Try editing any of these cards to experience the system firsthand!</p>\r\n            <div class=\"flex justify-end\">\r\n              <a href=\"#\" class=\"text-blue-500 font-medium text-sm edit-link\" data-card-id=\"conclusion\">EDIT</a>\r\n            </div>\r\n          `,\r\n          category: 'general'\r\n        }\r\n      ];\r\n      setCards(defaultCards);\r\n      setFilteredCards(defaultCards); // Initialize filtered cards\r\n      \r\n      // Initialize with some default categories\r\n      const defaultCategories = [\r\n        { id: 'all', name: 'All Cards' },\r\n        { id: 'general', name: 'General' },\r\n        { id: 'features', name: 'Features' },\r\n        { id: 'uncategorized', name: 'Uncategorized' }\r\n      ];\r\n      setCategories(defaultCategories);\r\n      \r\n      // Add initial state to history\r\n      addToHistory(defaultCards);\r\n    }\r\n  }, []);\r\n\r\n  // Add current state to history\r\n  const addToHistory = (cardsState) => {\r\n    // If we're not at the end of history, remove future states\r\n    const newHistory = history.slice(0, historyIndex + 1);\r\n    newHistory.push(JSON.parse(JSON.stringify(cardsState))); // Deep copy\r\n    setHistory(newHistory);\r\n    setHistoryIndex(newHistory.length - 1);\r\n    \r\n    // Save to localStorage\r\n    localStorage.setItem('cardHistory', JSON.stringify(newHistory));\r\n  };\r\n\r\n  // Undo to previous state\r\n  const undo = () => {\r\n    if (historyIndex > 0) {\r\n      const newIndex = historyIndex - 1;\r\n      setCards(history[newIndex]);\r\n      setFilteredCards(history[newIndex]);\r\n      setHistoryIndex(newIndex);\r\n      showNotificationMessage('Undo successful!', 'success');\r\n    } else {\r\n      showNotificationMessage('No more undo steps available.', 'warning');\r\n    }\r\n  };\r\n\r\n  // Redo to next state\r\n  const redo = () => {\r\n    if (historyIndex < history.length - 1) {\r\n      const newIndex = historyIndex + 1;\r\n      setCards(history[newIndex]);\r\n      setFilteredCards(history[newIndex]);\r\n      setHistoryIndex(newIndex);\r\n      showNotificationMessage('Redo successful!', 'success');\r\n    } else {\r\n      showNotificationMessage('No more redo steps available.', 'warning');\r\n    }\r\n  };\r\n\r\n  // Filter cards based on search term and category\r\n  useEffect(() => {\r\n    let result = cards;\r\n    \r\n    // Filter by category\r\n    if (selectedCategory !== 'all') {\r\n      result = result.filter(card => card.category === selectedCategory);\r\n    }\r\n    \r\n    // Filter by search term\r\n    if (searchTerm.trim()) {\r\n      result = result.filter(card => {\r\n        // Create a temporary element to extract text content\r\n        const tempElement = document.createElement('div');\r\n        tempElement.innerHTML = card.content;\r\n        const textContent = tempElement.textContent.toLowerCase();\r\n        return textContent.includes(searchTerm.toLowerCase());\r\n      });\r\n    }\r\n    \r\n    setFilteredCards(result);\r\n  }, [searchTerm, selectedCategory, cards]);\r\n\r\n  // Handle edit link clicks\r\n  useEffect(() => {\r\n    const handleEditClick = (e) => {\r\n      if (e.target.classList.contains('edit-link')) {\r\n        e.preventDefault();\r\n        const cardId = e.target.dataset.cardId;\r\n        const card = cards.find(c => c.id === cardId);\r\n        if (card && cardEditorRef.current) {\r\n          // Access the openEditModal function through the CardEditor component\r\n          // We'll need to pass a callback to the CardEditor component\r\n          const event = new CustomEvent('openEditModal', { detail: card });\r\n          window.dispatchEvent(event);\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener('click', handleEditClick);\r\n    return () => {\r\n      document.removeEventListener('click', handleEditClick);\r\n    };\r\n  }, [cards]);\r\n\r\n  const showNotificationMessage = (message, type = 'info') => {\r\n    setShowNotification({ show: true, message, type });\r\n    setTimeout(() => {\r\n      setShowNotification({ show: false, message: '', type: 'info' });\r\n    }, 4000);\r\n  };\r\n\r\n  const saveAllData = () => {\r\n    const cardsData = {};\r\n    cards.forEach(card => {\r\n      cardsData[card.id] = card.content;\r\n    });\r\n    localStorage.setItem('cardEditorData', JSON.stringify(cardsData));\r\n    localStorage.setItem('cardEditorTimestamp', new Date().toISOString());\r\n    localStorage.setItem('cardCategories', JSON.stringify(categories));\r\n    showNotificationMessage('All edits saved locally!', 'success');\r\n  };\r\n\r\n  const reloadPage = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  const addNewCard = () => {\r\n    const newCard = {\r\n      id: 'card-' + Date.now(),\r\n      content: `\r\n        <h2 class=\"text-2xl font-semibold mb-4 text-gray-800\">New Card</h2>\r\n        <p class=\"text-gray-600 mb-4\">Click EDIT to add content to this new card.</p>\r\n        <div class=\"flex justify-end\">\r\n          <a href=\"#\" class=\"text-blue-500 font-medium text-sm edit-link\" data-card-id=\"card-${Date.now()}\">EDIT</a>\r\n        </div>\r\n      `,\r\n      category: 'uncategorized'\r\n    };\r\n    const newCards = [...cards, newCard];\r\n    setCards(newCards);\r\n    addToHistory(newCards); // Add to history\r\n  };\r\n\r\n  // Export cards to JSON file\r\n  const exportCards = () => {\r\n    const cardsData = {};\r\n    cards.forEach(card => {\r\n      cardsData[card.id] = card.content;\r\n    });\r\n    \r\n    const dataStr = JSON.stringify(cardsData, null, 2);\r\n    const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);\r\n    \r\n    const exportFileDefaultName = 'article-cards.json';\r\n    \r\n    const linkElement = document.createElement('a');\r\n    linkElement.setAttribute('href', dataUri);\r\n    linkElement.setAttribute('download', exportFileDefaultName);\r\n    linkElement.click();\r\n    \r\n    showNotificationMessage('Cards exported successfully!', 'success');\r\n  };\r\n\r\n  // Import cards from JSON file\r\n  const importCards = (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n    \r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      try {\r\n        const importedData = JSON.parse(e.target.result);\r\n        const cardArray = Object.entries(importedData).map(([id, content]) => ({\r\n          id,\r\n          content,\r\n          category: 'uncategorized' // Default category for imported cards\r\n        }));\r\n        \r\n        setCards(cardArray);\r\n        addToHistory(cardArray); // Add to history\r\n        showNotificationMessage('Cards imported successfully!', 'success');\r\n      } catch (error) {\r\n        console.error('Error importing data:', error);\r\n        showNotificationMessage('Error importing cards. Please check the file format.', 'error');\r\n      }\r\n    };\r\n    reader.readAsText(file);\r\n    \r\n    // Reset file input\r\n    event.target.value = '';\r\n  };\r\n\r\n  // Add a new category\r\n  const addCategory = (categoryName) => {\r\n    if (!categoryName.trim()) return;\r\n    \r\n    const newCategory = {\r\n      id: categoryName.toLowerCase().replace(/\\s+/g, '-'),\r\n      name: categoryName\r\n    };\r\n    \r\n    setCategories([...categories, newCategory]);\r\n    showNotificationMessage(`Category \"${categoryName}\" added!`, 'success');\r\n  };\r\n\r\n  // Callback function to open the edit modal\r\n  const handleOpenEditModal = (card) => {\r\n    if (cardEditorRef.current && cardEditorRef.current.openEditModal) {\r\n      cardEditorRef.current.openEditModal(card);\r\n    }\r\n  };\r\n\r\n  // Update cards with history tracking\r\n  const updateCardsWithHistory = (newCards) => {\r\n    setCards(newCards);\r\n    addToHistory(newCards); // Add to history\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-100 flex justify-center py-10 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"container bg-white p-6 sm:p-8 rounded-lg shadow-lg\">\r\n        <h1 className=\"text-4xl font-bold mb-8 text-gray-900\">Getting Started with Card Editing</h1>\r\n        \r\n        {/* Search, Category filter, and Action buttons */}\r\n        <div className=\"mb-6 flex flex-wrap gap-2 items-center\">\r\n          <div className=\"flex-1 min-w-[200px]\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search cards...\"\r\n              className=\"w-full p-2 border border-gray-300 rounded-lg\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n          </div>\r\n          <select\r\n            className=\"p-2 border border-gray-300 rounded-lg\"\r\n            value={selectedCategory}\r\n            onChange={(e) => setSelectedCategory(e.target.value)}\r\n          >\r\n            {categories.map(category => (\r\n              <option key={category.id} value={category.id}>\r\n                {category.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <button \r\n            className=\"bg-yellow-500 text-white font-bold py-2 px-4 rounded-full shadow-lg transition-all duration-300 hover:bg-yellow-600 text-sm\"\r\n            onClick={undo}\r\n            disabled={historyIndex <= 0}\r\n          >\r\n            Undo\r\n          </button>\r\n          <button \r\n            className=\"bg-yellow-500 text-white font-bold py-2 px-4 rounded-full shadow-lg transition-all duration-300 hover:bg-yellow-600 text-sm\"\r\n            onClick={redo}\r\n            disabled={historyIndex >= history.length - 1}\r\n          >\r\n            Redo\r\n          </button>\r\n          <button \r\n            className=\"bg-green-500 text-white font-bold py-2 px-4 rounded-full shadow-lg transition-all duration-300 hover:bg-green-600 text-sm\"\r\n            onClick={exportCards}\r\n          >\r\n            Export Cards\r\n          </button>\r\n          <button \r\n            className=\"bg-purple-500 text-white font-bold py-2 px-4 rounded-full shadow-lg transition-all duration-300 hover:bg-purple-600 text-sm\"\r\n            onClick={() => fileInputRef.current.click()}\r\n          >\r\n            Import Cards\r\n          </button>\r\n          <input \r\n            type=\"file\" \r\n            ref={fileInputRef} \r\n            onChange={importCards} \r\n            accept=\".json\" \r\n            className=\"hidden\" \r\n          />\r\n        </div>\r\n        \r\n        {filteredCards.map((card) => (\r\n          <div \r\n            key={card.id} \r\n            className=\"mb-8\" \r\n            data-card-id={card.id}\r\n            dangerouslySetInnerHTML={{ __html: card.content }}\r\n          />\r\n        ))}\r\n        \r\n        {filteredCards.length === 0 && (searchTerm || selectedCategory !== 'all') && (\r\n          <div className=\"text-center py-8 text-gray-500\">\r\n            No cards found matching your criteria\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"mt-8 flex justify-center w-full px-4 space-x-8\">\r\n          <button \r\n            id=\"saveEdits\" \r\n            className=\"bg-blue-500 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all duration-300 hover:bg-blue-600\"\r\n            onClick={saveAllData}\r\n          >\r\n            Save\r\n          </button>\r\n          <div \r\n            id=\"addCard\" \r\n            className=\"bg-blue-500 rounded-full w-14 h-14 flex items-center justify-center shadow-lg transition-all duration-300 hover:bg-blue-600 cursor-pointer\"\r\n            onClick={addNewCard}\r\n          >\r\n            <svg className=\"w-8 h-8 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path fillRule=\"evenodd\" d=\"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\" clipRule=\"evenodd\"></path>\r\n            </svg>\r\n          </div>\r\n          <button \r\n            id=\"saveToProfile\" \r\n            className=\"bg-blue-500 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all duration-300 hover:bg-blue-600\"\r\n            onClick={reloadPage}\r\n          >\r\n            Clean\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Notification */}\r\n      {showNotification.show && (\r\n        <div className={`notification notification-${showNotification.type}`}>\r\n          {showNotification.message}\r\n        </div>\r\n      )}\r\n      \r\n      {/* Edit Modal */}\r\n      <CardEditor \r\n        ref={cardEditorRef}\r\n        cards={cards} \r\n        setCards={updateCardsWithHistory} \r\n        showNotification={showNotificationMessage} \r\n        categories={categories}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}