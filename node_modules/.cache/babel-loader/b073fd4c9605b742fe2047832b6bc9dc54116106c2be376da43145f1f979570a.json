{"ast":null,"code":"/**\r\n * Simple markdown to HTML converter\r\n * Converts common markdown syntax to HTML tags\r\n * @param {string} markdown - The markdown text to convert\r\n * @returns {string} - The converted HTML\r\n */\nexport const markdownToHtml = markdown => {\n  if (!markdown) return '';\n  let html = markdown;\n\n  // Convert headers\n  html = html.replace(/^### (.*$)/gm, '<h3>$1</h3>');\n  html = html.replace(/^## (.*$)/gm, '<h2>$1</h2>');\n  html = html.replace(/^# (.*$)/gm, '<h1>$1</h1>');\n\n  // Convert bold text\n  html = html.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>');\n\n  // Convert italic text\n  html = html.replace(/\\*(.*?)\\*/g, '<em>$1</em>');\n\n  // Handle lists - we need to process them separately\n  // Convert unordered lists\n  html = html.replace(/^[\\s]*-[\\s]+(.+)$/gm, '<li>$1</li>');\n  html = html.replace(/(<li>.*<\\/li>(\\s*<li>.*<\\/li>)*)/g, '<ul>$1</ul>');\n\n  // Convert ordered lists\n  html = html.replace(/^[\\s]*\\d+\\.[\\s]+(.+)$/gm, '<li>$1</li>');\n  html = html.replace(/(<ol>.*<\\/ol>(\\s*<li>.*<\\/li>)*)/g, '<ol>$1</ol>');\n  html = html.replace(/(<li>.*<\\/li>(\\s*<li>.*<\\/li>)*)/g, '<ol>$1</ol>');\n\n  // Convert paragraphs for lines that are not already wrapped in HTML tags\n  const lines = html.split('\\n');\n  let inList = false;\n  let newListType = null;\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n\n    // Skip empty lines\n    if (line.trim() === '') {\n      if (inList) {\n        inList = false;\n        newListType = null;\n      }\n      continue;\n    }\n\n    // Check if line is already wrapped in HTML tags\n    if (line.startsWith('<')) {\n      if (line.startsWith('<ul') || line.startsWith('<ol')) {\n        inList = true;\n        newListType = line.startsWith('<ul') ? 'ul' : 'ol';\n      } else if (line.startsWith('</ul') || line.startsWith('</ol')) {\n        inList = false;\n        newListType = null;\n      }\n      continue;\n    }\n\n    // Wrap in paragraph if not in a list and not already HTML\n    if (!inList) {\n      lines[i] = `<p>${line}</p>`;\n    }\n  }\n  html = lines.join('\\n');\n\n  // Clean up extra whitespace\n  html = html.replace(/\\n\\s*\\n/g, '\\n');\n  return html;\n};\n\n/**\r\n * Plain text to HTML converter\r\n * Converts plain text with line breaks to HTML paragraphs\r\n * @param {string} text - The plain text to convert\r\n * @returns {string} - The converted HTML\r\n */\nexport const plainTextToHtml = text => {\n  if (!text) return '';\n\n  // Escape HTML characters\n  let html = text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\n  // Convert line breaks to paragraphs\n  html = html.replace(/\\n\\n/g, '</p><p>');\n  html = html.replace(/\\n/g, '<br>');\n  html = `<p>${html}</p>`;\n\n  // Clean up empty paragraphs\n  html = html.replace(/<p><\\/p>/g, '');\n  return html;\n};\n\n/**\r\n * Detect if text is markdown or plain text and convert accordingly\r\n * @param {string} text - The text to convert\r\n * @returns {string} - The converted HTML\r\n */\nexport const convertToHtml = text => {\n  if (!text) return '';\n\n  // Simple heuristic to detect markdown\n  const markdownPatterns = [/^#{1,6}\\s/,\n  // Headers\n  /\\*\\*.*\\*\\*/,\n  // Bold\n  /\\*.*\\*/,\n  // Italic\n  /^\\s*-\\s+.*/,\n  // Unordered lists\n  /^\\s*\\d+\\.\\s+.*/ // Ordered lists\n  ];\n  const isMarkdown = markdownPatterns.some(pattern => pattern.test(text));\n  if (isMarkdown) {\n    return markdownToHtml(text);\n  } else {\n    return plainTextToHtml(text);\n  }\n};\nexport default {\n  markdownToHtml,\n  plainTextToHtml,\n  convertToHtml\n};","map":{"version":3,"names":["markdownToHtml","markdown","html","replace","lines","split","inList","newListType","i","length","line","trim","startsWith","join","plainTextToHtml","text","convertToHtml","markdownPatterns","isMarkdown","some","pattern","test"],"sources":["D:/SRC/XAMPP/htdocs/sites/UI/article-page-v12/src/utils/markdown.js"],"sourcesContent":["/**\r\n * Simple markdown to HTML converter\r\n * Converts common markdown syntax to HTML tags\r\n * @param {string} markdown - The markdown text to convert\r\n * @returns {string} - The converted HTML\r\n */\r\nexport const markdownToHtml = (markdown) => {\r\n  if (!markdown) return '';\r\n  \r\n  let html = markdown;\r\n  \r\n  // Convert headers\r\n  html = html.replace(/^### (.*$)/gm, '<h3>$1</h3>');\r\n  html = html.replace(/^## (.*$)/gm, '<h2>$1</h2>');\r\n  html = html.replace(/^# (.*$)/gm, '<h1>$1</h1>');\r\n  \r\n  // Convert bold text\r\n  html = html.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>');\r\n  \r\n  // Convert italic text\r\n  html = html.replace(/\\*(.*?)\\*/g, '<em>$1</em>');\r\n  \r\n  // Handle lists - we need to process them separately\r\n  // Convert unordered lists\r\n  html = html.replace(/^[\\s]*-[\\s]+(.+)$/gm, '<li>$1</li>');\r\n  html = html.replace(/(<li>.*<\\/li>(\\s*<li>.*<\\/li>)*)/g, '<ul>$1</ul>');\r\n  \r\n  // Convert ordered lists\r\n  html = html.replace(/^[\\s]*\\d+\\.[\\s]+(.+)$/gm, '<li>$1</li>');\r\n  html = html.replace(/(<ol>.*<\\/ol>(\\s*<li>.*<\\/li>)*)/g, '<ol>$1</ol>');\r\n  html = html.replace(/(<li>.*<\\/li>(\\s*<li>.*<\\/li>)*)/g, '<ol>$1</ol>');\r\n  \r\n  // Convert paragraphs for lines that are not already wrapped in HTML tags\r\n  const lines = html.split('\\n');\r\n  let inList = false;\r\n  let newListType = null;\r\n  \r\n  for (let i = 0; i < lines.length; i++) {\r\n    const line = lines[i];\r\n    \r\n    // Skip empty lines\r\n    if (line.trim() === '') {\r\n      if (inList) {\r\n        inList = false;\r\n        newListType = null;\r\n      }\r\n      continue;\r\n    }\r\n    \r\n    // Check if line is already wrapped in HTML tags\r\n    if (line.startsWith('<')) {\r\n      if (line.startsWith('<ul') || line.startsWith('<ol')) {\r\n        inList = true;\r\n        newListType = line.startsWith('<ul') ? 'ul' : 'ol';\r\n      } else if (line.startsWith('</ul') || line.startsWith('</ol')) {\r\n        inList = false;\r\n        newListType = null;\r\n      }\r\n      continue;\r\n    }\r\n    \r\n    // Wrap in paragraph if not in a list and not already HTML\r\n    if (!inList) {\r\n      lines[i] = `<p>${line}</p>`;\r\n    }\r\n  }\r\n  \r\n  html = lines.join('\\n');\r\n  \r\n  // Clean up extra whitespace\r\n  html = html.replace(/\\n\\s*\\n/g, '\\n');\r\n  \r\n  return html;\r\n};\r\n\r\n/**\r\n * Plain text to HTML converter\r\n * Converts plain text with line breaks to HTML paragraphs\r\n * @param {string} text - The plain text to convert\r\n * @returns {string} - The converted HTML\r\n */\r\nexport const plainTextToHtml = (text) => {\r\n  if (!text) return '';\r\n  \r\n  // Escape HTML characters\r\n  let html = text\r\n    .replace(/&/g, '&amp;')\r\n    .replace(/</g, '&lt;')\r\n    .replace(/>/g, '&gt;');\r\n  \r\n  // Convert line breaks to paragraphs\r\n  html = html.replace(/\\n\\n/g, '</p><p>');\r\n  html = html.replace(/\\n/g, '<br>');\r\n  html = `<p>${html}</p>`;\r\n  \r\n  // Clean up empty paragraphs\r\n  html = html.replace(/<p><\\/p>/g, '');\r\n  \r\n  return html;\r\n};\r\n\r\n/**\r\n * Detect if text is markdown or plain text and convert accordingly\r\n * @param {string} text - The text to convert\r\n * @returns {string} - The converted HTML\r\n */\r\nexport const convertToHtml = (text) => {\r\n  if (!text) return '';\r\n  \r\n  // Simple heuristic to detect markdown\r\n  const markdownPatterns = [\r\n    /^#{1,6}\\s/,        // Headers\r\n    /\\*\\*.*\\*\\*/,       // Bold\r\n    /\\*.*\\*/,           // Italic\r\n    /^\\s*-\\s+.*/,       // Unordered lists\r\n    /^\\s*\\d+\\.\\s+.*/    // Ordered lists\r\n  ];\r\n  \r\n  const isMarkdown = markdownPatterns.some(pattern => pattern.test(text));\r\n  \r\n  if (isMarkdown) {\r\n    return markdownToHtml(text);\r\n  } else {\r\n    return plainTextToHtml(text);\r\n  }\r\n};\r\n\r\nexport default { markdownToHtml, plainTextToHtml, convertToHtml };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}